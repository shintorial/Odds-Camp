<% if user_signed_in? %>
<div class="posts-page-container">
    <div class="posts-header">
        <h1 class="posts-title">Home</h1>
        <%= link_to 'New Post', new_post_path, class: 'new-post-button' %>
    </div>

    <div class="posts-grid">
        <% @posts.each do |post| %>
        <%= render 'posts/partials/post', post: post %>
        <% end %>
    </div>

    <div class="pagination-container">
        <%= paginate @posts %>
    </div>
</div>

<% else %>
<div class="welcome-container">
    <div class="welcome-card">
        <div class="welcome-header">
            <h2 class="welcome-title">Welcome to Odds Camp</h2>
            <p class="welcome-text">Please sign in or create an account to continue</p>
        </div>
        <div class="welcome-buttons">
            <%= link_to "Sign In", new_user_session_path, class: "sign-in-button" %>
            <%= link_to "Sign Up", new_user_registration_path, class: "sign-up-button" %>
        </div>
    </div>
</div>
<% end %>

<% content_for :head do %>
<style>
    .bg-green-100.border.border-green-400.text-green-700,
    .bg-red-100.border.border-red-400.text-red-700 {
        display: none;
    }

    @media (min-width: 640px) {
        .posts-container {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (min-width: 1024px) {
        .posts-container {
            grid-template-columns: repeat(3, 1fr);
        }
    }
</style>
<% end %>